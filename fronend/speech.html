<html>
<head>
   <title>Speech SDK JavaScript Quickstart</title>
</head>
<body>
 <!-- UI code goes here -->
 <h1>hello please tell me the database to select </h1> 
 <button id="startRecognizeOnceAsyncButton">Speak</button>
 
 <h1> Results</h1>
 <textarea id="phraseDiv" style="display: inline-block;width:500px;height:200px"></textarea>
 <!-- SDK reference goes here -->

 <!-- Optional authorization token request goes here -->

 <!-- Sample code goes here -->
 <script src="./SpeechSDK-JavaScript-1.7.0/microsoft.cognitiveservices.speech.sdk.bundle.js"></script>
 <script>
    // status fields and start button in UI
    var phraseDiv;
    var startRecognizeOnceAsyncButton;
  
    // subscription key and region for speech services.
    var subscriptionKey, serviceRegion;
    var authorizationToken;
    var SpeechSDK;
    var recognizer;
    // wss://eastus.stt.speech.microsoft.com/speech/recognition/interactive/cognitiveservices/v1?language=en-US&format=simple&Ocp-Apim-Subscription-Key=5ddec480deda4a3ea442cdd812bf429a&X-ConnectionId=34BAA660F48F46A793BF6F9F6A10BF8B
    // https://westus.api.cognitive.microsoft.com/luis/v2.0/apps/274b0beb-01bd-4fb0-b8c8-4d63d5cbeba1?staging=true&verbose=true&timezoneOffset=-360&subscription-key=5ddec480deda4a3ea442cdd812bf429a&q=fetch 
    document.addEventListener("DOMContentLoaded", function () {
      startRecognizeOnceAsyncButton = document.getElementById("startRecognizeOnceAsyncButton");
      subscriptionKey = "5ddec480deda4a3ea442cdd812bf429a";
      serviceRegion = "westus";
      phraseDiv = document.getElementById("phraseDiv");
  
      startRecognizeOnceAsyncButton.addEventListener("click", function () {
        startRecognizeOnceAsyncButton.disabled = true;
        phraseDiv.innerHTML = "";
  
        // if we got an authorization token, use the token. Otherwise use the provided subscription key
        var speechConfig;
        speechConfig = SpeechSDK.SpeechConfig.fromSubscription(subscriptionKey, serviceRegion);
        
  
        speechConfig.speechRecognitionLanguage = "en-US";
        var audioConfig  = SpeechSDK.AudioConfig.fromDefaultMicrophoneInput();
        recognizer = new SpeechSDK.SpeechRecognizer(speechConfig, audioConfig);
  
        recognizer.recognizeOnceAsync(
          function (result) {
            startRecognizeOnceAsyncButton.disabled = false;
            phraseDiv.innerHTML += result.text;
            window.console.log(result);
  
            recognizer.close();
            recognizer = undefined;
          },
          function (err) {
            startRecognizeOnceAsyncButton.disabled = false;
            phraseDiv.innerHTML += err;
            window.console.log(err);
  
            recognizer.close();
            recognizer = undefined;
          });
      });
  
      if (!window.SpeechSDK) {
        SpeechSDK = window.SpeechSDK;
        startRecognizeOnceAsyncButton.disabled = false;
  
  
        // in case we have a function for getting an authorization token, call it.
        if (typeof RequestAuthorizationToken === "function") {
            RequestAuthorizationToken();
        }
      }
    });
  </script>
</body>
</html>